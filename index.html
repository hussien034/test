<!DOCTYPE html>
<html lang="en" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชูููู ุงูุฃุฏุงุก</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&display=swap" rel="stylesheet">
</head>

<body>

    <body class="bg-gray-50 font-[Cairo]">
        <div class="max-w-6xl mx-auto bg-white shadow-lg rounded-2xl p-6 sm:p-8 mt-6 border border-gray-100 grid-1">
            <!-- Header -->
            <div class="flex items-center justify-between flex-wrap gap-4 mb-6">
                <div class="text-right space-y-1">
                    <h1 class="text-xl sm:text-2xl font-bold text-gray-800">ุฌูุฒุฉ ุจุงูุฑ ููุตูุงุนุฉ</h1>
                    <p class="text-gray-600 font-medium text-sm sm:text-base">ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ</p>
                    <p class="text-gray-700 text-sm sm:text-base">ุชูููู ุฃุฏุงุก</p>
                    <p id="quarter-info" class="text-gray-500 text-xs sm:text-sm italic"></p>
                </div>
                <div class="flex-shrink-0">
                    <img src="logo.png" alt="Giza Power Industry Logo" class="logo">
                </div>
            </div>

            <!-- Dropdowns -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4">
                <div class="flex flex-col sm:flex-row items-start sm:items-center gap-2">
                    <label for="countries1" class="text-sm font-medium text-dark">ุงููุณู: </label>
                    <select id="countries1" class="w-full sm:w-48 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm p-2.5 focus:ring-blue-500 focus:border-blue-500">
          <option selected></option>
          <option value="production">ุงูุงูุชุงุฌ</option>
          <option value="isolation">ุงูุนุฒู ูุงูุฌุฏู</option>
          <option value="packaging">ุงูุชุบููู</option>
          <option value="hr">ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ</option>
        </select>
                </div>

                <div class="flex flex-col sm:flex-row items-start sm:items-center gap-2">
                    <label for="countries2" class="text-sm font-medium text-dark">ุงููุธููุฉ:</label>
                    <select id="countries2" class="w-full sm:w-48 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm p-2.5 focus:ring-blue-500 focus:border-blue-500">
          <option selected></option>
          <option value="worker">ุนุงูู</option>
          <option value="supervisor">ูุดุฑู</option>
          <option value="manager">ูุฏูุฑ</option>
        </select>
                </div>

                <div class="flex flex-col sm:flex-row items-start sm:items-center gap-2">
                    <label for="countries3" class="text-sm font-medium text-dark">ุงูููุธููู:</label>
                    <select id="countries3" class="w-full sm:w-48 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-sm p-2.5 focus:ring-blue-500 focus:border-blue-500">
          <option selected></option>
          <option value="emp1">ูุญูุฏ</option>
          <option value="emp2">ุฃุญูุฏ</option>
          <option value="emp3">ุนูู</option>
        </select>
                </div>
            </div>

            <!-- Info Table -->
            <div class="overflow-x-auto mb-4">
                <table class="table-auto w-full text-right border-collapse border border-gray-300 rounded-lg overflow-hidden">
                    <tbody>
                        <tr class="bg-gray-100">
                            <td class="border px-4 py-2 font-semibold">ุงูุงุณู :</td>
                            <td class="border px-4 py-2 bg-gray-50">ูุญูุฏ</td>
                            <td class="border px-4 py-2 font-semibold">ุงูููุฏ :</td>
                            <td class="border px-4 py-2 bg-gray-50">207</td>
                        </tr>
                        <tr class="bg-gray-100">
                            <td class="border px-4 py-2 font-semibold">ุงููุธููุฉ:</td>
                            <td class="border px-4 py-2 bg-gray-50">ุงุฏุงุฑู</td>
                            <td class="border px-4 py-2 font-semibold">ุงููุณู:</td>
                            <td class="border px-4 py-2 bg-gray-50">ูุฑุดุฉ ุงููุฌุงุฑุฉ</td>
                        </tr>
                        <tr class="bg-gray-100">
                            <td class="border px-4 py-2 font-semibold">ุจุฏุงูุฉ ูุชุฑุฉ ุงูุชูููู:</td>
                            <td id="start-date" class="border px-4 py-2 bg-gray-50"></td>
                            <td class="border px-4 py-2 font-semibold">ููุงูุฉ ูุชุฑุฉ ุงูุชูููู:</td>
                            <td id="end-date" class="border px-4 py-2 bg-gray-50"></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="text-center text-gray-700 font-medium mb-2">ุชูููู ุงูุฃุฏุงุก ุงูุฑุจุน ุณููู ูู 1 ุฅูู 10</div>

            <!-- Rating Table -->
            <div class="overflow-x-auto mb-6">
                <table class="min-w-full border border-gray-300 text-sm text-right bg-white rounded-lg overflow-hidden">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="border p-3 w-1/2 font-semibold">ุนุงูู ุงูุชูููู</th>
                            <th class="border p-3 w-1/6 font-semibold text-center">ุงูุชูููู (0โ10)</th>
                            <th class="border p-3 w-1/3 font-semibold text-center">ููุงุญุธุงุช</th>
                        </tr>
                    </thead>
                    <tbody id="ratingTable">
                        <tr>
                            <td class="border p-3">ูุฏู ูุณุงููุฉ ุงูุนุงูู ูู ุชุญููู ุฌูุฏุฉ ุงูุตูุงูุฉ ุงููุทููุจุฉ.</td>
                            <td class="border p-3 text-center">
                                <input type="number" min="0" max="10" class="score border border-gray-300 rounded-sm p-1 w-16 text-center" oninput="validateInput(this); sum();">
                            </td>
                            <td class="border p-3"><input type="text" class="w-full border border-gray-300 rounded-sm p-1"></td>
                        </tr>
                        <tr>
                            <td class="border p-3">ุงูุงูุชุฒุงู ุจุชุนูููุงุช ูุชูุฌููุงุช ุงูููููู ูุงููุดุฑููู ุฃุซูุงุก ุงูุนูู.</td>
                            <td class="border p-3 text-center">
                                <input type="number" min="0" max="10" class="score border border-gray-300 rounded-sm p-1 w-16 text-center" oninput="validateInput(this); sum();">
                            </td>
                            <td class="border p-3"><input type="text" class="w-full border border-gray-300 rounded-sm p-1"></td>
                        </tr>
                        <tr>
                            <td class="border p-3">ุงูุงูุชุฒุงู ุจุชุณููู ุงูุฃุนูุงู ุจุดูู ููุชุธู ูููุฑุฏุงุช ุงูุชุงููุฉ.</td>
                            <td class="border p-3 text-center">
                                <input type="number" min="0" max="10" class="score border border-gray-300 rounded-sm p-1 w-16 text-center" oninput="validateInput(this); sum();">
                            </td>
                            <td class="border p-3"><input type="text" class="w-full border border-gray-300 rounded-sm p-1"></td>
                        </tr>
                        <tr>
                            <td class="border p-3">ุงูุญูุงุธ ุนูู ุฃุฏูุงุช ููุนุฏุงุช ุงูุตูุงูุฉ ูุณุฑุนุฉ ุงูุชุจููุบ ุนู ุงูุฃุนุทุงู.</td>
                            <td class="border p-3 text-center">
                                <input type="number" min="0" max="10" class="score border border-gray-300 rounded-sm p-1 w-16 text-center" oninput="validateInput(this); sum();">
                            </td>
                            <td class="border p-3"><input type="text" class="w-full border border-gray-300 rounded-sm p-1"></td>
                        </tr>
                        <tr>
                            <td class="border p-3">ูุฏุฑุฉ ุงูุนุงูู ุนูู ุงูุชุนูู ูุงูุชุณุงุจ ููุงุฑุงุช ุฌุฏูุฏุฉ.</td>
                            <td class="border p-3 text-center">
                                <input type="number" min="0" max="10" class="score border border-gray-300 rounded-sm p-1 w-16 text-center" oninput="validateInput(this); sum();">
                            </td>
                            <td class="border p-3"><input type="text" class="w-full border border-gray-300 rounded-sm p-1"></td>
                        </tr>
                        <tr class="bg-gray-200 font-semibold text-blue-700">
                            <td class="border p-3">ุงูุฅุฌูุงูู</td>
                            <td id="totalScore" class="border p-3 text-center">0</td>
                            <td id="evaluationLevel" class="border p-3 text-center">โ</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Questions Section -->
            <div class="space-y-4 mb-6">
                <div class="border border-gray-300 rounded-md bg-white p-4 space-y-3">
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center border-b pb-2">
                        <label class="text-gray-700 font-medium">ูู ุงูุนุงูู ุนูู ุนูู ุจุฎุทูุงุช ุงูุนูู ูุฅุฌุฑุงุกุงุชูุ</label>
                        <div class="flex gap-4 mt-2 sm:mt-0">
                            <label><input type="radio" name="q1" class="accent-blue-500"> ูุนู</label>
                            <label><input type="radio" name="q1" class="accent-blue-500"> ูุง</label>
                        </div>
                    </div>
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center border-b pb-2">
                        <label class="text-gray-700 font-medium">ูู ููุฌุฏ ูุนุฏูุงุช ููุงู ูุฑุชูุนุฉ ุฃุซูุงุก ุชูุงุฌุฏู ุฎูุงู ุงููุฑุฏูุฉุ <span
              class="text-sm text-gray-500">*ุบูุฑ ุฃุนุทุงู ููููููุฉ*</span></label>
                        <div class="flex gap-4 mt-2 sm:mt-0">
                            <label><input type="radio" name="q2" class="accent-blue-500"> ูุนู</label>
                            <label><input type="radio" name="q2" class="accent-blue-500"> ูุง</label>
                        </div>
                    </div>
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center border-b pb-2">
                        <label class="text-gray-700 font-medium">ูู ุญุงูุฉ ุงูุฅุฌุงุจุฉ ุจู"ูุนู" ูุฑุฌู ุชุญุฏูุฏ ุงูุจุฑูุงูุฌ ุงูุชุฏุฑูุจู ุงููุทููุจ:</label>
                        <input type="text" class="border border-gray-300 rounded-sm p-2 w-full sm:w-1/2 mt-2 sm:mt-0">
                    </div>
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center border-b pb-2">
                        <label class="text-gray-700 font-medium">ูู ูุฌูุฉ ูุธุฑู "ุงููููุฉ" ูู ูุญุชุงุฌ ุงูุนุงูู ููุชุฏุฑูุจุ</label>
                        <div class="flex gap-4 mt-2 sm:mt-0">
                            <label><input type="radio" name="q3" class="accent-blue-500"> ูุนู</label>
                            <label><input type="radio" name="q3" class="accent-blue-500"> ูุง</label>
                        </div>
                    </div>
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center border-b pb-2">
                        <label class="text-gray-700 font-medium">ูู ุญุงูุฉ ุงูุฅุฌุงุจุฉ ุจู"ูุนู" ูุฑุฌู ุชูุฏูุฑ ุงููุชุฑุฉ ุงูุฒูููุฉ ุงููุชููุนุฉ ููุชุฑูู:</label>
                        <input type="text" class="border border-gray-300 rounded-sm p-2 w-full sm:w-1/2 mt-2 sm:mt-0">
                    </div>
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center">
                        <label class="text-gray-700 font-medium">ูู ุญุงูุฉ ุงูุฅุฌุงุจุฉ ุจู"ูุง" ูุฑุฌู ุดุฑุญ ุงูุฃุณุจุงุจ:</label>
                        <input type="text" class="border border-gray-300 rounded-sm p-2 w-full sm:w-1/2 mt-2 sm:mt-0">
                    </div>
                </div>

                <div class="border border-gray-300 rounded-md bg-white p-4 space-y-4">
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center border-b pb-2">
                        <h2 class="text-lg font-semibold text-gray-800">ุชูุตูุฉ ุงูุฑุฆูุณ ุงููุจุงุดุฑ <span class="text-sm text-gray-500">* ุถุน ุฅุดุงุฑุฉ ูู ุงูููุงู ุงูููุงุณุจ *</span></h2>
                        <div class="flex gap-6 mt-2 sm:mt-0">
                            <label class="flex items-center gap-2"><input type="radio" name="contract"
                class="accent-blue-600"><span>ูุฌุฏุฏ ุนูุฏู</span></label>
                            <label class="flex items-center gap-2"><input type="radio" name="contract"
                class="accent-blue-600"><span>ูุง ูุฌุฏุฏ ุนูุฏู</span></label>
                        </div>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">ุฅุฐุง ูุงู ุงูุชูููู "ุถุนูู" ููุงูุช ุชูุตูุชู ุจุฑูุถู ูู ุงูุนูู ุงุดุฑุญ
            ุงูุฃุณุจุงุจ:</label>
                        <textarea rows="3" class="w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-400 focus:outline-none" placeholder="ุงูุชุจ ุงูุฃุณุจุงุจ ููุง..."></textarea>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="text-center text-sm text-gray-600 mt-6 border-t pt-4">
                <p class="mb-1">ูุคูู ุฃู ุงูุชุทููุฑ ุงููุณุชูุฑ ูุจุฏุฃ ูู ุงูุชูููู ุงูุจููุงุก ูุงูุชูุฏูุฑ ุงูุนุงุฏู ููุฌููุฏ ุงููุจุฐููุฉ ๐</p>
                <p class="text-gray-500">ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ - ุดุฑูุฉ <span class="font-semibold text-blue-600">ุงูุฌูุฒุฉ ุจุงูุฑ</span></p>
            </footer>
        </div>

        <!-- Modal Alert -->
        <div id="alertModal" class="hidden fixed inset-0 bg-black/40 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-lg w-80 text-center p-6 animate-fade-in">
                <h2 class="text-lg font-semibold text-gray-800 mb-2">ุชูุจูู</h2>
                <p id="modalMessage" class="text-gray-600 mb-4"></p>
                <button onclick="closeModal()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">ุชู</button>
            </div>
        </div>

        <!-- Modal Alert -->
        <div id="alertModal" class="hidden fixed inset-0 bg-black/40 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-lg w-80 text-center p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-2">ุชูุจูู</h2>
                <p id="modalMessage" class="text-gray-600 mb-4"></p>
                <button onclick="closeModal()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
      ุชู
    </button>
            </div>
        </div>
        <!--The Style---------------------------------------------------------------------------------------------------------------->
        <style>
            @keyframes fade-in {
                from {
                    opacity: 0;
                    transform: scale(0.95);
                }
                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }
            
            .animate-fade-in {
                animation: fade-in 0.2s ease-out;
            }
            
            body {
                font-family: "Cairo", sans-serif;
            }
            
            .logo {
                width: 100px;
                height: 90px;
            }
            
            .grid-1 {
                width: 50% !important;
            }
            
            @media all and (max-width:750px) {
                .grid-1 {
                    width: 95% !important;
                }
            }
        </style>

        <script>
            // Set dynamic quarter and dates
            window.addEventListener('DOMContentLoaded', () => {
                const today = new Date();
                const month = today.getMonth() + 1;
                const year = today.getFullYear();

                let quarter = 0,
                    startMonth = 0,
                    endMonth = 0;

                if (month >= 1 && month <= 3) {
                    quarter = 1;
                    startMonth = 1;
                    endMonth = 3;
                } else if (month >= 4 && month <= 6) {
                    quarter = 2;
                    startMonth = 4;
                    endMonth = 6;
                } else if (month >= 7 && month <= 9) {
                    quarter = 3;
                    startMonth = 7;
                    endMonth = 9;
                } else {
                    quarter = 4;
                    startMonth = 10;
                    endMonth = 12;
                }

                const startDate = new Date(year, startMonth - 1, 1);
                const endDate = new Date(year, endMonth, 0);

                const formatDate = (date) => {
                    const d = String(date.getDate()).padStart(2, '0');
                    const m = String(date.getMonth() + 1).padStart(2, '0');
                    const y = date.getFullYear();
                    return `${d}/${m}/${y}`;
                };

                document.getElementById('quarter-info').textContent = `ุงูุชูููู ุงูุฑุจุน ${quarter} ูุนุงู ${year}`;
                document.getElementById('start-date').textContent = formatDate(startDate);
                document.getElementById('end-date').textContent = formatDate(endDate);
            });

            // Select logic
            const select1 = document.getElementById('countries1');
            const select2 = document.getElementById('countries2');
            const select3 = document.getElementById('countries3');
            select2.disabled = true;
            select3.disabled = true;

            select1.addEventListener('change', () => {
                if (select1.value) {
                    select2.disabled = false;
                } else {
                    select2.disabled = true;
                    select3.disabled = true;
                    select2.value = "";
                    select3.value = "";
                }
            });

            select2.addEventListener('change', () => {
                if (select2.value) {
                    select3.disabled = false;
                } else {
                    select3.disabled = true;
                    select3.value = "";
                }
            });

            // Input validation
            // function validateInput(input) {
            //     input.value = input.value.replace(/[^0-9]/g, '');
            //     if (input.value !== '' && (input.value < 0 || input.value > 10)) {
            //         alert("ููุณูุญ ููุท ุจุฅุฏุฎุงู ุฑูู ูู 0 ุฅูู 10");
            //         input.value = '';
            //     }
            // }

            function validateInput(input) {
                const value = Number(input.value);
                if (value > 10) {
                    input.value = 10;
                    showModal("โ๏ธ ูุง ูููู ุฅุฏุฎุงู ุฑูู ุฃูุจุฑ ูู 10");
                } else if (value < 0) {
                    input.value = 0;
                    showModal("โ๏ธ ูุง ูููู ุฅุฏุฎุงู ุฑูู ุฃูู ูู 0");
                }
            }

            function showModal(message) {
                const modalMessage = document.getElementById("modalMessage");
                modalMessage.textContent = message;
                document.getElementById("alertModal").classList.remove("hidden");
            }

            function closeModal() {
                document.getElementById("alertModal").classList.add("hidden");
            }
            // Calculate total and evaluation
            function sum() {
                let total = 0;
                let count = 0;
                document.querySelectorAll(".score").forEach(input => {
                    const val = Number(input.value);
                    if (!isNaN(val) && val >= 0 && val <= 10) {
                        total += val;
                        count++;
                    }
                });
                document.getElementById("totalScore").textContent = total;

                const avg = total / (count || 1);
                let level = "โ";
                if (avg >= 9) level = "ููุชุงุฒ";
                else if (avg >= 7) level = "ุฌูุฏ ุฌุฏุงู";
                else if (avg >= 5) level = "ุฌูุฏ";
                else if (avg > 0) level = "ุถุนูู";

                document.getElementById("evaluationLevel").textContent = level;
            }
        </script>
    </body>

</html>
